module names-traits-members-override

language icedust2

fixture [[
  module test
  model
  [[...]]
]]

//test no error on overriding field [[ //FIXME: NaBL2 reachable takes non-wellformed paths as well
//  trait Assignment {
//    size : Int
//  }
//
//  entity BasicAssignment extends Assignment {
//    size : Int = 1
//  }
//]] 0 errors

test error on overriding field with wrong type [[
  trait Assignment {
    size : Int
  }

  entity BasicAssignment extends Assignment {
    size : [[String]]
  }
]] >= 1 error at #1

test error on overriding field with wrong multiplicity [[
  trait Assignment {
    size : Int
  }

  entity BasicAssignment extends Assignment {
    size : Int [[?]]
  }
]] >= 1 error at #1

//test no error on overriding field with tighter multiplicity [[ //FIXME: NaBL2 reachable takes non-wellformed paths as well
//  trait Assignment {
//    size : Int?
//  }
//
//  entity BasicAssignment extends Assignment {
//    size : Int
//  }
//]] 0 errors

test resolve to overriden member [[
  trait Assignment {
    [[size]] : Int
  }

  entity BasicAssignment extends Assignment {
    [[size]] : Int
  }
]] resolve #2 to #1
